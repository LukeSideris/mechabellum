const thumbnails = import.meta.glob('./thumbnails/units/*.png', {
  eager: true,
  import: 'default',
});

export type UnitInterface = {
  name: string;
  id: string;
  thumbnail: string;
  cost: number;
  hp: number;
  hpMod?: number; // applied by applyMods function
  speed: number;
  damage: number;
  damageMod?: number; // applied by applyMods function
  damageMax?: number; // for damage ramp units like steel ball
  damageTable?: number[]; // for melting point damage values which seem somewhat random
  splashRadius: number; // in meters
  attackInterval: number; // in seconds
  range: number; // in meters
  flying: boolean;
  shootsUp: boolean;
  unitCount: number; // number of units in the squad
  unitSize: number; // approximate individual unit size in meters
  rows?: number; // number of rows the unit takes up
  unitSpacing?: number; // estimated gap between units while in loose formation
};

// NOTE: All the health and damage values need to be checked
export const units = {
  crawler: {
    name: 'Crawler',
    id: 'crawler',
    thumbnail: thumbnails['./thumbnails/units/crawler.png'] as string,
    cost: 100,
    hp: 307,
    speed: 16,
    damage: 79,
    splashRadius: 0,
    attackInterval: 0.6,
    range: 0,
    flying: false,
    shootsUp: false,
    unitCount: 24,
    unitSize: 3,
    rows: 3,
    unitSpacing: 2,
  },
  fang: {
    name: 'Fang',
    id: 'fang',
    thumbnail: thumbnails['./thumbnails/units/fang.png'] as string,
    cost: 100,
    hp: 117,
    speed: 6,
    damage: 57,
    splashRadius: 0,
    attackInterval: 1.5,
    range: 75,
    flying: false,
    shootsUp: true,
    unitCount: 18,
    unitSize: 5,
    rows: 3,
    unitSpacing: 3,
  },
  arclight: {
    name: 'Arclight',
    id: 'arclight',
    thumbnail: thumbnails['./thumbnails/units/arclight.png'] as string,
    cost: 100,
    hp: 4414,
    speed: 7,
    damage: 391,
    splashRadius: 7,
    attackInterval: 1.1,
    range: 93,
    flying: false,
    shootsUp: false,
    unitCount: 1,
    unitSize: 16,
  },
  marksman: {
    name: 'Marksman',
    id: 'marksman',
    thumbnail: thumbnails['./thumbnails/units/marksman.png'] as string,
    cost: 100,
    hp: 1622,
    speed: 8,
    damage: 2329,
    splashRadius: 0,
    attackInterval: 3.1,
    range: 140,
    flying: false,
    shootsUp: true,
    unitCount: 1,
    unitSize: 13.5,
  },
  mustang: {
    name: 'Mustang',
    id: 'mustang',
    thumbnail: thumbnails['./thumbnails/units/mustang.png'] as string,
    cost: 200,
    hp: 343,
    speed: 16,
    damage: 35,
    splashRadius: 0,
    attackInterval: 0.4,
    range: 95,
    flying: false,
    shootsUp: true,
    unitCount: 12,
    unitSize: 6.4,
    rows: 2,
    unitSpacing: 1.65,
  },
  sledgehammer: {
    name: 'Sledgehammer',
    id: 'sledgehammer',
    thumbnail: thumbnails['./thumbnails/units/sledgehammer.png'] as string,
    cost: 200,
    hp: 3478,
    speed: 7,
    damage: 608,
    splashRadius: 5.0,
    attackInterval: 4.5,
    range: 95,
    flying: false,
    shootsUp: false,
    unitCount: 5,
    unitSize: 8, // these are longer than they are wide, about 12m long
    unitSpacing: 2.5,
  },
  wasp: {
    name: 'Wasp',
    id: 'wasp',
    thumbnail: thumbnails['./thumbnails/units/wasp.png'] as string,
    cost: 300,
    hp: 302,
    speed: 16,
    damage: 202,
    splashRadius: 0,
    attackInterval: 1.4,
    range: 50,
    flying: true,
    shootsUp: true,
    unitCount: 12,
    unitSize: 8,
    rows: 2,
    unitSpacing: 0.25,
  },
  steel_ball: {
    name: 'Steel Ball',
    id: 'steel_ball',
    thumbnail: thumbnails['./thumbnails/units/steel_ball.png'] as string,
    cost: 200,
    hp: 4571,
    speed: 16,
    damage: 2,
    damageMax: 2605,
    splashRadius: 0,
    attackInterval: 0.2,
    range: 45,
    flying: false,
    shootsUp: false,
    unitCount: 4,
    unitSize: 11,
    unitSpacing: 1.2,
  },
  stormcaller: {
    name: 'Stormcaller',
    id: 'stormcaller',
    thumbnail: thumbnails['./thumbnails/units/stormcaller.png'] as string,
    cost: 200,
    hp: 1149,
    speed: 6,
    damage: 860 * 4, // 4 missiles
    splashRadius: 5.5,
    attackInterval: 6.3,
    range: 180,
    flying: false,
    shootsUp: false,
    unitCount: 4,
    unitSize: 9,
    unitSpacing: 3,
  },
  phoenix: {
    name: 'Phoenix',
    id: 'phoenix',
    thumbnail: thumbnails['./thumbnails/units/phoenix.png'] as string,
    cost: 200,
    hp: 1464,
    speed: 16,
    damage: 2981,
    splashRadius: 0,
    attackInterval: 3.2,
    range: 120,
    flying: true,
    shootsUp: true,
    unitCount: 2,
    unitSize: 18,
    unitSpacing: 2,
  },
  rhino: {
    name: 'Rhino',
    id: 'rhino',
    thumbnail: thumbnails['./thumbnails/units/rhino.png'] as string,
    cost: 200,
    hp: 19297,
    speed: 16,
    damage: 3297,
    splashRadius: 6,
    attackInterval: 0.9,
    range: 0,
    flying: false,
    shootsUp: false,
    unitCount: 1,
    unitSize: 28,
  },
  hacker: {
    name: 'Hacker',
    id: 'hacker',
    thumbnail: thumbnails['./thumbnails/units/hacker.png'] as string,
    cost: 300,
    hp: 3249,
    speed: 8,
    damage: 585,
    splashRadius: 0,
    attackInterval: 0.3,
    range: 110,
    flying: false,
    shootsUp: false,
    unitCount: 1,
    unitSize: 18,
  },
  wraith: {
    name: 'Wraith',
    id: 'wraith',
    thumbnail: thumbnails['./thumbnails/units/wraith.png'] as string,
    cost: 300,
    hp: 15001,
    speed: 12,
    damage: 405,
    splashRadius: 8,
    // base attack interval: 1.6s
    // the wraith weapons can attack independently
    // so we divide the base attack interval by the number of artillery beams
    attackInterval: 0.4,
    range: 55,
    flying: true,
    shootsUp: true,
    unitCount: 1,
    unitSize: 28,
  },
  scorpion: {
    name: 'Scorpion',
    id: 'scorpion',
    thumbnail: thumbnails['./thumbnails/units/scorpion.png'] as string,
    cost: 400,
    hp: 19625,
    speed: 7,
    damage: 10047,
    splashRadius: 15,
    attackInterval: 4.5,
    range: 100,
    flying: false,
    shootsUp: false,
    unitCount: 1,
    unitSize: 30,
  },
  vulcan: {
    name: 'Vulcan',
    id: 'vulcan',
    thumbnail: thumbnails['./thumbnails/units/vulcan.png'] as string,
    cost: 400,
    hp: 39920,
    speed: 6,
    damage: 90,
    splashRadius: 15,
    attackInterval: 0.1,
    range: 95,
    flying: false,
    shootsUp: false,
    unitCount: 1,
    unitSize: 36,
  },
  fortress: {
    name: 'Fortress',
    id: 'fortress',
    thumbnail: thumbnails['./thumbnails/units/fortress.png'] as string,
    cost: 400,
    hp: 48644,
    speed: 6,
    damage: 6369,
    splashRadius: 5,
    attackInterval: 1.8,
    range: 100,
    flying: false,
    shootsUp: false,
    unitCount: 1,
    unitSize: 36,
  },
  melting_point: {
    name: 'Melting Point',
    id: 'melting_point',
    thumbnail: thumbnails['./thumbnails/units/melting_point.png'] as string,
    cost: 400,
    hp: 39869,
    speed: 6,
    damage: 1,
    damageMax: 6721,
    damageTable: [
      1,
      4,
      56,
      77,
      121,
      84,
      213,
      276, // estimated
      354, // estimated
      // ...
    ],
    splashRadius: 3,
    attackInterval: 0.2,
    range: 115,
    flying: false,
    shootsUp: true,
    unitCount: 1,
    unitSize: 32,
  },
  overlord: {
    name: 'Overlord',
    id: 'overlord',
    thumbnail: thumbnails['./thumbnails/units/overlord.png'] as string,
    cost: 400,
    hp: 16099,
    speed: 10,
    damage: 3742 * 4, // 4 missiles
    splashRadius: 7,
    attackInterval: 4.6,
    range: 110,
    flying: true,
    shootsUp: true,
    unitCount: 1,
    unitSize: 30,
  },
  war_factory: {
    name: 'War Factory',
    id: 'war_factory',
    thumbnail: thumbnails['./thumbnails/units/war_factory.png'] as string,
    cost: 800,
    hp: 166798,
    speed: 6,
    damage: 6843,
    splashRadius: 4.5,
    attackInterval: 0.9, // 1.8 is the listed interval but it has two independent cannons
    range: 100,
    flying: false,
    shootsUp: false,
    unitCount: 1,
    unitSize: 62,
  },
};

export type UnitIdType = keyof typeof units;
